+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+
|                            Ğ’Ğ•Ğ‘-ĞŸĞ Ğ˜Ğ›ĞĞ–Ğ•ĞĞ˜Ğ•                                     |
|                   Â«ĞŸÑ€Ğ¾Ğ³Ğ½Ğ¾Ğ· ÑĞ°Ğ¼Ğ¾Ğ²Ğ¾Ğ·Ğ³Ğ¾Ñ€Ğ°Ğ½Ğ¸Ñ ÑƒĞ³Ğ»ÑÂ»                               |
+â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+

            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚  Ğ¤Ğ ĞĞĞ¢Ğ•ĞĞ”    â”‚ â† (React / Streamlit)
            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚ HTTP (REST API)
                   â–¼
        +â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€+
        â”‚   PRESENTATION LAYER     â”‚ â† FastAPI ÑĞ½Ğ´Ğ¿Ğ¾Ğ¸Ğ½Ñ‚Ñ‹ (v1)
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ POST /api/v1/data  â”‚  â”‚ â† Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° CSV
        â”‚  â”‚ GET  /api/v1/predictâ”‚  â”‚ â† Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ· Ñ€Ğ¸ÑĞºĞ°
        â”‚  â”‚ GET  /api/v1/dashboardâ”‚â”‚ â† Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ´Ğ°ÑˆĞ±Ğ¾Ñ€Ğ´
        â”‚  â”‚ GET  /api/v1/analyticsâ”‚â”‚ â† Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ ĞºĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ°
        â”‚  â”‚ GET  /api/v1/pile/{id}/history â”‚ â† Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑˆÑ‚Ğ°Ğ±ĞµĞ»Ñ
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   APPLICATION LAYER      â”‚ â† Use Cases (Ğ±Ğ¸Ğ·Ğ½ĞµÑ-ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸)
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ UploadDataService   â”‚  â”‚ â† Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸ CSV
        â”‚  â”‚ CalculateFireRisk   â”‚  â”‚ â† Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ¿Ñ€Ğ¾Ğ³Ğ½Ğ¾Ğ·Ğ° Ñ‡ĞµÑ€ĞµĞ· ML
        â”‚  â”‚ GetDashboardData    â”‚  â”‚ â† ÑĞ±Ğ¾Ñ€ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ´Ğ»Ñ Ğ³Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ³Ğ¾ ÑĞºÑ€Ğ°Ğ½Ğ°
        â”‚  â”‚ EvaluateModelQualityâ”‚  â”‚ â† Ñ€Ğ°ÑÑ‡Ñ‘Ñ‚ Precision, Recall, F1
        â”‚  â”‚ GetPileHistory      â”‚  â”‚ â† Ğ¿Ğ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ¿Ğ¾ ÑˆÑ‚Ğ°Ğ±ĞµĞ»Ñ
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      DOMAIN LAYER        â”‚ â† Ğ§Ğ¸ÑÑ‚Ğ°Ñ Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚Ğ½Ğ°Ñ Ğ¾Ğ±Ğ»Ğ°ÑÑ‚ÑŒ
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ CoalPile           â”‚  â”‚ â† pile_id, coal_type, formation_date, ...
        â”‚  â”‚ TemperatureReading â”‚  â”‚ â† pile_id, date, temperature
        â”‚  â”‚ FireIncident       â”‚  â”‚ â† pile_id, actual_date
        â”‚  â”‚ RiskForecast       â”‚  â”‚ â† pile_id, forecast_date, risk_levels, ...
        â”‚  â”‚ Prediction         â”‚  â”‚ â† pile_id, risk_date, risk_level, probability
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                          â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ CoalPileRepository â”‚  â”‚ â† Ğ°Ğ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ: get_by_id(), save()
        â”‚  â”‚ TempReadingRepositoryâ”‚â”‚
        â”‚  â”‚ FireIncidentRepositoryâ”‚
        â”‚  â”‚ PredictionRepositoryâ”‚ â”‚
        â”‚  â”‚ MLService          â”‚  â”‚ â† Ğ°Ğ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ: predict_risk(features: dict) â†’ dict
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   INFRASTRUCTURE LAYER   â”‚ â† Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ SqlAlchemyRepo     â”‚  â”‚ â† Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Repository (CoalPileRepo, PredictionRepo...)
        â”‚  â”‚ MLModelAdapter     â”‚  â”‚ â† Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ predict_risk(dict) â†’ dict
        â”‚  â”‚ CSVParser          â”‚  â”‚ â† Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³ temperature.csv, fires.csv, supplies.csv
        â”‚  â”‚ WeatherProvider    â”‚  â”‚ â† Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¿Ğ¾Ğ³Ğ¾Ğ´Ñ‹ Ğ¸Ğ· weather_data_*.csv
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚                          â”‚
        â”‚  ğŸ’¾ PostgreSQL.           â”‚ â† Ğ¿Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ½Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
        â”‚  ğŸ“ Ğ˜ÑÑ…Ğ¾Ğ´Ğ½Ñ‹Ğµ CSV-Ñ„Ğ°Ğ¹Ğ»Ñ‹    â”‚ â† supplies.csv, temperature.csv, fires.csv, weather.csv
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       ML MODULE          â”‚ â† ĞŸĞ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚ ml/predict.py      â”‚  â”‚ â† Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ predict_risk(pile_features: dict) â†’ dict
        â”‚  â”‚ ml/models/*.joblib â”‚  â”‚ â† ÑĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ
        â”‚  â”‚ ml/train_model.py  â”‚  â”‚ â† Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ (Ğ½Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ² runtime)
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜